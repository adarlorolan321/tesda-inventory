import{J as T,h as $,o as i,c as l,a as t,b as c,w as A,d as p,v as h,u as e,n as r,t as d,e as n,f as S,g as _,r as b}from"./app-6f6d1591.js";import{u as D}from"./Crud-6116c5bb.js";import{u as F}from"./InputFormat-1ec5d242.js";import{u as I}from"./Validate-a6272f2d.js";import{A as N}from"./AdminLayout-df62fda9.js";import"./lodash-75febade.js";const P={class:"card card-action"},q={class:"card-header"},B=t("div",{class:"card-action-title align-items-center"},[t("h5",{class:"card-title"},"EDIT CLASS")],-1),M={class:"card-action-element"},R={class:"card-body"},j={class:"row"},L={class:"col-md-12"},O={class:"form-group mb-3"},Q=t("label",{for:"name"},[_("Name "),t("span",{class:"required"},"*")],-1),z={class:"invalid-feedback"},J={class:"col-md-6"},Y={class:"form-group mb-3"},G=t("label",{for:"service_id"},[_("Service "),t("span",{class:"required"},"*")],-1),H={key:0,class:"v-invalid-feedback"},K={class:"col-md-6"},W={class:"form-group mb-3"},X=t("label",{for:"venue_id"},[_("Venue "),t("span",{class:"required"},"*")],-1),Z={key:0,class:"v-invalid-feedback"},ee={class:"col-md-6"},se={class:"form-group mb-3"},te=t("label",{for:"coach_id"},"Coach",-1),oe={key:0,class:"v-invalid-feedback"},ae={class:"col-md-6"},ie={class:"form-group mb-3"},le=t("label",{for:"additional_coach"},"Additional Coach ",-1),re={key:0,class:"v-invalid-feedback"},de={class:"col-md-3"},ne={class:"form-group mb-3"},ce=t("label",{for:"start_time"},"Start Date",-1),_e={key:0,class:"v-invalid-feedback"},ue={class:"col-md-3"},pe={class:"form-group mb-3"},me=t("label",{for:"start_time"},"Start Time",-1),ve={key:0,class:"v-invalid-feedback"},he={class:"col-md-3"},fe={class:"form-group mb-3"},be=t("label",{for:"end_date"},"End Date",-1),ye={key:0,class:"v-invalid-feedback"},ge={class:"col-md-3"},ke={class:"form-group mb-3"},Ve=t("label",{for:"end_time"},"End Time",-1),Se={key:0,class:"v-invalid-feedback"},we={class:"row"},Ee={class:"col-md-6 mb-3 d-flex gap-4"},Ce={class:"form-group"},Ue=t("div",{style:{"white-space":"nowrap"},class:""}," Payment Type ",-1),xe={id:"price_type",class:"switch"},Te=["checked"],$e=t("span",{class:"switch-toggle-slider"},[t("span",{class:"switch-on"}),t("span",{class:"switch-off"})],-1),Ae={class:"switch-label"},De={style:{width:"100%"},class:"form-group"},Fe={for:"price"},Ie={key:0,class:"required"},Ne=["disabled"],Pe={class:"invalid-feedback"},qe={class:"col-md-6 d-flex flex-row gap-4 mb-3"},Be={class:"form-group"},Me=t("div",{class:""},"Repeat",-1),Re={for:"repeat",class:"switch"},je=["checked"],Le=t("span",{class:"switch-toggle-slider"},[t("span",{class:"switch-on"}),t("span",{class:"switch-off"})],-1),Oe={class:"switch-label"},Qe={style:{width:"100%"},class:"form-group"},ze={for:"days"},Je={key:0,class:"required"},Ye=["disabled"],Ge={key:0,class:"v-invalid-feedback"},He={class:"row"},Ke={class:"col-md-6"},We={class:"form-group mb-3"},Xe=t("label",{for:"capacity"},"Capacity",-1),Ze={class:"invalid-feedback"},es={class:"col-md-6"},ss={class:"form-group mb-3"},ts=t("label",{for:"tags"},"Tags ",-1),os={key:0,class:"v-invalid-feedback"},as={class:"col-md-6"},is={class:"form-group mb-3"},ls=t("label",{for:"status"},[_("Status "),t("span",{class:"required"},"*")],-1),rs={key:0,class:"v-invalid-feedback"},ds={class:"row mt-4"},ns={class:"col"},cs=["disabled"],_s={key:0,class:"spinner-border me-1",role:"status","aria-hidden":"true"},us=["disabled"],ps={key:0,class:"spinner-border me-1",role:"status","aria-hidden":"true"},ms={layout:N},xs=Object.assign(ms,{__name:"Edit",setup(vs){const w={id:null,name:null,service_id:null,venue_id:null,coach_id:null,additional_coach:null,start_date:null,end_date:null,start_time:null,end_time:null,repeat:!1,capacity:null,days:null,price_type:!1,price:null,tags:null,status:"Active"},E="classes",{dateFormat:y,timeFormat:g}=F(),{validateForm:f}=I();let{paginatedData:hs,form:s,createPromise:k,updatePromise:V,deletePromise:fs,handleCreate:bs,serverQuery:ys,handleServerQuery:gs,handleEdit:C,formState:ks}=D(w,E);const{props:m}=T();return $(()=>{C(m.data)}),(U,o)=>{const x=b("inertia-link"),u=b("select2"),v=b("flat-pickr");return i(),l("div",P,[t("div",q,[B,t("div",M,[c(x,{type:"button",class:"btn btn-link-primary btn-primary",href:U.route("classes.index")},{default:A(()=>[_(" Back ")]),_:1},8,["href"])])]),t("div",R,[t("div",j,[t("div",L,[t("div",O,[Q,p(t("input",{type:"text",id:"name",class:r(["form-control",{"is-invalid":e(s).errors.name}]),placeholder:"Enter Name","onUpdate:modelValue":o[0]||(o[0]=a=>e(s).name=a),onInput:o[1]||(o[1]=a=>e(s).clearErrors("name"))},null,34),[[h,e(s).name]]),t("div",z,d(e(s).errors.name),1)])]),t("div",J,[t("div",Y,[G,c(u,{id:"service_id",class:r({"is-invalid":e(s).errors.service_id}),modelValue:e(s).service_id,"onUpdate:modelValue":o[2]||(o[2]=a=>e(s).service_id=a),placeholder:"Select Service",settings:{allowClear:!0},onSelect:o[3]||(o[3]=a=>e(s).clearErrors("service_id")),options:e(m).services},null,8,["class","modelValue","options"]),e(s).errors.service_id?(i(),l("div",H,d(e(s).errors.service_id),1)):n("",!0)])]),t("div",K,[t("div",W,[X,c(u,{id:"venue_id",class:r({"is-invalid":e(s).errors.venue_id}),modelValue:e(s).venue_id,"onUpdate:modelValue":o[4]||(o[4]=a=>e(s).venue_id=a),settings:{allowClear:!0},placeholder:"Select Venue",onSelect:o[5]||(o[5]=a=>e(s).clearErrors("venue_id")),options:e(m).venues},null,8,["class","modelValue","options"]),e(s).errors.venue_id?(i(),l("div",Z,d(e(s).errors.venue_id),1)):n("",!0)])]),t("div",ee,[t("div",se,[te,c(u,{class:r({"is-invalid":e(s).errors.coach_id}),modelValue:e(s).coach_id,"onUpdate:modelValue":o[6]||(o[6]=a=>e(s).coach_id=a),settings:{allowClear:!0},placeholder:"Select Coach",onSelect:o[7]||(o[7]=a=>e(s).clearErrors("coach_id")),options:e(m).coaches},null,8,["class","modelValue","options"]),e(s).errors.coach_id?(i(),l("div",oe,d(e(s).errors.coach_id),1)):n("",!0)])]),t("div",ae,[t("div",ie,[le,c(u,{multiple:"multiple",id:"additional_coach",class:r({"is-invalid":e(s).errors.additional_coach}),modelValue:e(s).additional_coach,"onUpdate:modelValue":o[8]||(o[8]=a=>e(s).additional_coach=a),settings:{allowClear:!0},placeholder:"Select Additional Coach",onSelect:o[9]||(o[9]=a=>e(s).clearErrors("additional_coach")),options:e(m).coaches},null,8,["class","modelValue","options"]),e(s).errors.additional_coach?(i(),l("div",re,d(e(s).errors.additional_coach),1)):n("",!0)])]),t("div",de,[t("div",ne,[ce,c(v,{id:"start_date",config:e(y),class:r([{"is-invalid":e(s).errors.start_date},"form-control"]),placeholder:"Select Start Date",modelValue:e(s).start_date,"onUpdate:modelValue":o[10]||(o[10]=a=>e(s).start_date=a)},null,8,["config","class","modelValue"]),e(s).errors.start_date?(i(),l("div",_e,d(e(s).errors.start_date),1)):n("",!0)])]),t("div",ue,[t("div",pe,[me,c(v,{id:"start_time",config:e(g),class:r([{"is-invalid":e(s).errors.start_time},"form-control"]),placeholder:"Select End Time",modelValue:e(s).start_time,"onUpdate:modelValue":o[11]||(o[11]=a=>e(s).start_time=a)},null,8,["config","class","modelValue"]),e(s).errors.start_time?(i(),l("div",ve,d(e(s).errors.start_time),1)):n("",!0)])]),t("div",he,[t("div",fe,[be,c(v,{id:"end_date",config:e(y),class:r([{"is-invalid":e(s).errors.end_date},"form-control"]),placeholder:"Select End Time",modelValue:e(s).end_date,"onUpdate:modelValue":o[12]||(o[12]=a=>e(s).end_date=a)},null,8,["config","class","modelValue"]),e(s).errors.end_date?(i(),l("div",ye,d(e(s).errors.end_date),1)):n("",!0)])]),t("div",ge,[t("div",ke,[Ve,c(v,{id:"end_time",config:e(g),class:r([{"is-invalid":e(s).errors.end_time},"form-control"]),placeholder:"Select End Time",modelValue:e(s).end_time,"onUpdate:modelValue":o[13]||(o[13]=a=>e(s).end_time=a)},null,8,["config","class","modelValue"]),e(s).errors.end_time?(i(),l("div",Se,d(e(s).errors.end_time),1)):n("",!0)])])]),t("div",we,[t("div",Ee,[t("div",Ce,[Ue,t("label",xe,[p(t("input",{id:"price_type",type:"checkbox",class:r([{"is-invalid":e(s).errors.price_type},"switch-input"]),"onUpdate:modelValue":o[14]||(o[14]=a=>e(s).price_type=a),checked:e(s).price_type,onInput:o[15]||(o[15]=a=>{e(s).clearErrors("price_type","price"),e(s).price=null})},null,42,Te),[[S,e(s).price_type]]),$e,t("span",Ae,d(e(s).price_type==1?"Paid":"Free"),1)])]),t("div",De,[t("label",Fe,[_("Price "),e(s).price_type?(i(),l("span",Ie,"*")):n("",!0)]),p(t("input",{id:"price",type:"text",disabled:!e(s).price_type,class:r(["form-control",{"is-invalid":e(s).errors.price}]),placeholder:"Enter Price","onUpdate:modelValue":o[16]||(o[16]=a=>e(s).price=a),onInput:o[17]||(o[17]=a=>{e(s).clearErrors("price"),e(f)(["number"],e(s),a.target.value,"price")})},null,42,Ne),[[h,e(s).price]]),t("div",Pe,d(e(s).errors.price),1)])]),t("div",qe,[t("div",Be,[Me,t("label",Re,[p(t("input",{id:"repeat",type:"checkbox",class:r([{"is-invalid":e(s).errors.repeat},"switch-input"]),"onUpdate:modelValue":o[18]||(o[18]=a=>e(s).repeat=a),checked:e(s).repeat,onInput:o[19]||(o[19]=a=>{e(s).clearErrors("repeat","days"),e(s).days=null})},null,42,je),[[S,e(s).repeat]]),Le,t("span",Oe,d(e(s).repeat==1?"Yes":"No"),1)])]),t("div",Qe,[t("label",ze,[_("Days "),e(s).repeat?(i(),l("span",Je,"*")):n("",!0)]),p(t("input",{id:"days",type:"text",disabled:!e(s).repeat,class:r(["form-control",{"is-days":e(s).errors.days}]),placeholder:"Enter Price","onUpdate:modelValue":o[20]||(o[20]=a=>e(s).days=a),onInput:o[21]||(o[21]=a=>{e(s).clearErrors("days"),e(f)(["number"],e(s),a.target.value,"days")})},null,42,Ye),[[h,e(s).days]]),e(s).errors.days?(i(),l("div",Ge,d(e(s).errors.days),1)):n("",!0)])])]),t("div",He,[t("div",Ke,[t("div",We,[Xe,p(t("input",{id:"capacity",type:"text",class:r(["form-control",{"is-invalid":e(s).errors.capacity}]),placeholder:"Enter Capacity","onUpdate:modelValue":o[22]||(o[22]=a=>e(s).capacity=a),onInput:o[23]||(o[23]=a=>{e(s).clearErrors("capacity"),e(f)(["number"],e(s),a.target.value,"capacity")})},null,34),[[h,e(s).capacity]]),t("div",Ze,d(e(s).errors.capacity),1)])]),t("div",es,[t("div",ss,[ts,c(u,{id:"tags",multiple:"",class:r({"is-invalid":e(s).errors.tags}),modelValue:e(s).tags,"onUpdate:modelValue":o[24]||(o[24]=a=>e(s).tags=a),settings:{allowClear:!0,tags:!0,minimumResultsForSearch:-1},placeholder:"Select tags",onSelect:o[25]||(o[25]=a=>e(s).clearErrors("tags")),options:e(s).tags},null,8,["class","modelValue","options"]),e(s).errors.tags?(i(),l("div",os,d(e(s).errors.tags),1)):n("",!0)])]),t("div",as,[t("div",is,[ls,c(u,{id:"status",class:r({"is-invalid":e(s).errors.status}),modelValue:e(s).status,"onUpdate:modelValue":o[26]||(o[26]=a=>e(s).status=a),settings:{allowClear:!0,minimumResultsForSearch:-1},placeholder:"Select Status",onSelect:o[27]||(o[27]=a=>e(s).clearErrors("status")),options:["Active","Closed","Archive"]},null,8,["class","modelValue"]),e(s).errors.status?(i(),l("div",rs,d(e(s).errors.status),1)):n("",!0)])])]),t("div",ds,[t("div",ns,[e(s).id?(i(),l("button",{key:1,class:"btn btn-primary",onClick:o[29]||(o[29]=(...a)=>e(V)&&e(V)(...a)),disabled:e(s).processing||e(s).hasErrors},[e(s).processing?(i(),l("span",ps)):n("",!0),_(" Save changes ")],8,us)):(i(),l("button",{key:0,class:"btn btn-primary",onClick:o[28]||(o[28]=(...a)=>e(k)&&e(k)(...a)),disabled:e(s).processing||e(s).hasErrors},[e(s).processing?(i(),l("span",_s)):n("",!0),_(" Save ")],8,cs))])])])])}}});export{xs as default};
