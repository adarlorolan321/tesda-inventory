import{J as j,o as n,c as i,b as v,u as t,a as e,t as r,e as d,d as k,v as w,n as h,g as c,F as p,i as b,w as f,r as I,X as L,h as P,j as A}from"./app-d78f9d76.js";import{u as T}from"./Crud-9785135c.js";import{u as $}from"./Validate-343de377.js";import{A as q}from"./AdminLayout-1077fba5.js";import"./lodash-c29aed8f.js";import"./toastr-b5da6ac0.js";const B={class:"card card-action"},M={class:"card-header"},U=e("div",{class:"card-action-title align-items-center"},[e("h5",{class:"card-title"},"SERVICES")],-1),z={class:"card-action-element"},H={class:"offcanvas offcanvas-end",tabindex:"-1",id:"offCanvasForm","data-bs-backdrop":"static","aria-labelledby":"offCanvasFormLabel"},K={class:"offcanvas-header"},O={id:"offCanvasFormLabel",class:"offcanvas-title"},D={key:0,type:"button",class:"btn-close text-reset","data-bs-dismiss":"offcanvas","aria-label":"Close"},J={class:"offcanvas-body mt-4 mx-0 flex-grow-0"},R={class:"form-group mb-3"},X=e("label",{for:""},[c("Service Name "),e("span",{class:"required"},"*")],-1),G={class:"invalid-feedback"},W={class:"form-group mb-3"},Y=e("label",{for:""},"Code",-1),Z={class:"invalid-feedback"},ee=["disabled"],te={key:0,class:"spinner-border me-1",role:"status","aria-hidden":"true"},se=["disabled"],oe={key:0,class:"spinner-border me-1",role:"status","aria-hidden":"true"},ae={class:"card-body"},ne={class:"row justify-content-between"},ie={class:"col-auto"},re={class:"d-flex align-items-center gap-2"},le=e("div",{class:"w-auto"},"Show",-1),de={class:"flex-1"},ce=["value"],_e=["value"],ue=e("div",{class:"w-auto"},"entries",-1),pe={class:"col-auto"},me={class:"d-flex gap-2 align-items-center"},ve={class:"flex-1"},he={class:"input-group input-group-merge"},be=e("span",{class:"input-group-text",id:"basic-addon-search31"},[e("i",{class:"ti ti-search"})],-1),fe=["value"],ge={class:"table-responsive text-nowrap"},ye={class:"table"},xe={class:"table-light",style:{"min-width":"200px"}},Ce=e("th",null,"Embed Code",-1),ke=e("th",{style:{width:"150px"}},"Actions",-1),we={class:"table-border-bottom-0"},Se={key:0},Ee=e("td",{colspan:"999999",class:"text-center"}," No item found ",-1),Fe=[Ee],Ne={style:{width:"60%"}},Qe=e("td",{class:""},[e("a",{href:"#"},[e("i",{class:"fa-regular fa-copy ms-4",style:{"font-size":"22px"}})])],-1),Ve={class:"d-flex gap-2"},je=["onClick"],Ie=e("i",{class:"ti ti-pencil"},null,-1),Le=[Ie],Pe=["onClick"],Ae=e("i",{class:"ti ti-trash"},null,-1),Te=[Ae],$e={key:0,class:"card-footer py-3 border-top"},qe={class:"row justify-content-between"},Be={class:"col-auto"},Me={class:"table_info"},Ue={class:"col-auto"},ze={class:"dataTables_paginate paging_simple_numbers","aria-label":"Page navigation example"},He={class:"pagination mb-0"},Ke=["innerHTML"],Oe={layout:q},et=Object.assign(Oe,{__name:"Index",setup(De){j();const S={name:null,code:null},{validateForm:E}=$(),F="settings.services";let{paginatedData:l,form:a,createPromise:g,updatePromise:y,deletePromise:N,handleCreate:x,serverQuery:_,handleServerQuery:u,handleEdit:Q,formState:m}=T(S,F);return(Je,o)=>{const C=I("table-header");return n(),i(p,null,[v(t(L),{title:"Services"}),e("div",B,[e("div",M,[U,e("div",z,[e("button",{class:"btn btn-primary",type:"button",onClick:o[0]||(o[0]=(...s)=>t(x)&&t(x)(...s)),"data-bs-toggle":"offcanvas","data-bs-target":"#offCanvasForm","aria-controls":"offCanvasForm"}," Add Service "),e("div",H,[e("div",K,[e("h5",O,r(t(m)=="create"?"Add":"Update")+" Service ",1),t(a).processing?d("",!0):(n(),i("button",D))]),e("div",J,[e("div",R,[X,k(e("input",{type:"text",class:h(["form-control",{"is-invalid":t(a).errors.name}]),"onUpdate:modelValue":o[1]||(o[1]=s=>t(a).name=s),onInput:o[2]||(o[2]=s=>{t(a).clearErrors("name"),t(E)(["required"],t(a),s.target.value,"name")}),placeholder:"Enter name"},null,34),[[w,t(a).name]]),e("div",G,r(t(a).errors.name),1)]),e("div",W,[Y,k(e("input",{type:"text",class:h(["form-control",{"is-invalid":t(a).errors.code}]),placeholder:"Enter code","onUpdate:modelValue":o[3]||(o[3]=s=>t(a).code=s),onInput:o[4]||(o[4]=s=>t(a).clearErrors("code"))},null,34),[[w,t(a).code]]),e("div",Z,r(t(a).errors.code),1)]),t(m)=="create"?(n(),i("button",{key:0,class:"btn btn-primary",onClick:o[5]||(o[5]=(...s)=>t(g)&&t(g)(...s)),disabled:t(a).processing||t(a).hasErrors},[t(a).processing?(n(),i("span",te)):d("",!0),c(" Save ")],8,ee)):d("",!0),t(m)=="update"?(n(),i("button",{key:1,class:"btn btn-primary",onClick:o[6]||(o[6]=(...s)=>t(y)&&t(y)(...s)),disabled:t(a).processing||t(a).hasErrors},[t(a).processing?(n(),i("span",oe)):d("",!0),c(" Save changes ")],8,se)):d("",!0)])])])]),e("div",ae,[e("div",ne,[e("div",ie,[e("div",re,[le,e("div",de,[e("select",{class:"form-select",value:t(_).perPage,onInput:o[7]||(o[7]=s=>t(u)("perPage",s.target.value))},[(n(),i(p,null,b([5,10,25,50,100],s=>e("option",{value:String(s),key:s},r(s),9,_e)),64))],40,ce)]),ue])]),e("div",pe,[e("div",me,[e("div",ve,[e("div",he,[be,e("input",{type:"search",placeholder:"Search",class:"form-control",value:t(_).query,onInput:o[8]||(o[8]=s=>t(u)("query",s.target.value))},null,40,fe)])])])])])]),e("div",ge,[e("table",ye,[e("thead",xe,[e("tr",null,[v(C,{style:{"min-width":"200px",width:"30%"},onClick:o[9]||(o[9]=s=>t(u)("sort","name")),serverQuery:t(_),serverQueryKey:"name"},{default:f(()=>[c(" Service Name ")]),_:1},8,["serverQuery"]),v(C,{style:{"min-width":"200px",width:"30%"},onClick:o[10]||(o[10]=s=>t(u)("sort","code")),serverQuery:t(_),serverQueryKey:"code"},{default:f(()=>[c(" Code ")]),_:1},8,["serverQuery"]),Ce,ke])]),e("tbody",we,[t(l).data.length<=0?(n(),i("tr",Se,Fe)):d("",!0),(n(!0),i(p,null,b(t(l).data,s=>(n(),i("tr",{key:s},[e("td",Ne,r(s.name),1),e("td",null,r(s.code),1),Qe,e("td",null,[e("div",Ve,[e("a",{class:"btn btn-icon btn-label-primary waves-effect","data-bs-toggle":"tooltip","data-bs-placement":"top","data-bs-custom-class":"tooltip-primary",title:"Edit",onClick:V=>t(Q)(s),href:"javascript:void(0);"},Le,8,je),e("a",{class:"btn btn-icon btn-label-danger waves-effect","data-bs-toggle":"tooltip","data-bs-placement":"top","data-bs-custom-class":"tooltip-danger",title:"Delete",href:"javascript:void(0);",onClick:V=>t(N)(s.id)},Te,8,Pe)])])]))),128))])])]),t(l)&&t(l).meta.links?(n(),i("div",$e,[e("div",qe,[e("div",Be,[e("div",Me," Showing "+r(t(l).meta.from)+" to "+r(t(l).meta.to)+" of "+r(t(l).meta.total)+" entries ",1)]),e("div",Ue,[e("nav",ze,[e("ul",He,[(n(!0),i(p,null,b(t(l).meta.links,s=>(n(),i("li",{class:"page-item",key:s},[(n(),P(A(s.url?"inertia-link":"button"),{class:h(["page-link",{active:s.active}]),href:s.url,only:["data","params"]},{default:f(()=>[e("span",{innerHTML:s.label},null,8,Ke)]),_:2},1032,["class","href"]))]))),128))])])])])])):d("",!0)])],64)}}});export{et as default};
